"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[548],{4110:(e,t,s)=>{s.d(t,{Z:()=>o});var n=s(184);const o=e=>{let{name:t,placeholder:s,id:o,onClick:a,type:r="text",required:l=!0,value:i,mt:c="8",text:d="xl"}=e;return(0,n.jsxs)("div",{className:"mt-".concat(c," "),children:[(0,n.jsx)("label",{htmlFor:t,className:"block text-".concat(d," font-medium leading-6 text-gray-900 pb-1"),children:t}),(0,n.jsx)("div",{className:"mt-2",children:(0,n.jsx)("input",{type:r,placeholder:s,name:t,id:o,autoComplete:"given-name",className:"block w-full rounded-md border-0 py-1.5 p-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6 placeholder:mx-5",onChange:e=>{a(o,e.target.value)},required:l,value:i})})]})}},7548:(e,t,s)=>{s.r(t),s.d(t,{default:()=>x});var n=s(2791),o=s(7689),a=s(4110),r=s(184);const l=e=>{let{id:t,onChange:s,title:n,children:o}=e;return(0,r.jsxs)("div",{className:"flex items-center gap-x-3 p-1",children:[(0,r.jsx)("input",{onChange:e=>{s(t,e.target.value)},id:t,name:t,type:"radio",className:"cursor-pointer h-4 w-4 border-gray-800 text-indigo-600 focus:ring-indigo-600",value:n}),(0,r.jsx)("label",{htmlFor:t,className:"block text-sm font-medium leading-6 text-gray-900",children:o})]})};var i=s(2073);const c=e=>{let{handlePaymentInfo:t,text:s="xl",mt:n="8"}=e;return(0,r.jsxs)("fieldset",{className:"mt-".concat(n),children:[(0,r.jsx)("legend",{className:"block text-".concat(s," font-medium leading-6 text-gray-900 pb-1"),children:"Payment Methods"}),(0,r.jsx)("div",{className:"mt-2 space-y-2",children:null===i.z4||void 0===i.z4?void 0:i.z4.map(((e,s)=>(0,r.jsx)(l,{id:"paymentMethod",onChange:t,title:e.name,children:e.name},s)))})]})};var d=s(2132),m=s(9690),u=s(6488),h=s(6564);const x=()=>{const e=(0,u.VY)(),t=(0,o.s0)(),{user:s}=(0,n.useContext)(m.S),{apiCall:l,loading:x}=(0,d.Z)(),g=JSON.parse(localStorage.getItem("hotel")),[v,p]=(0,n.useState)({...JSON.parse(localStorage.getItem("bookingInfo")),contact:""}),f=(e,t)=>{"guest"===e&&+t>g.maxGuest&&p({...v,[e]:g.maxGuest}),p({...v,[e]:t})},k=async n=>{n.preventDefault();try{if("Card"===v.paymentMethod)(async()=>{const{contact:t,checkIn:n,checkOut:o,guest:a,totalAmount:r,paymentMethod:i}=v,c="".concat("https://hotelmanagement-sq75.onrender.com/api","/booking/paymentverification?checkIn=").concat(n,"&checkOut=").concat(o,"&contact=").concat(t,"&guest=").concat(a,"&totalAmount=").concat(r,"&paymentMethod=").concat(i,"&hotel=").concat(g.id),{success:d,data:m,key:u,message:h}=await l("/booking/checkout","POST",{...v,hotel:g.id});if(d){const e={key:u,amount:m.amount,currency:"INR",name:"Apdelights",description:"Apdelights Online Payment",image:g.photos[0],order_id:m.id,callback_url:c,prefill:{name:s.name,email:s.email,contact:v.contact},notes:{address:"Razorpay Corporate Office",bookingInfo:{...v,hotel:g.id}},theme:{color:"#3399cc"}};new window.Razorpay(e).open()}else e.error(h)})();else{const e=await l("/booking","POST",{...v,hotel:g.id});e.success?t("/booking-confirm/"+e.booking.id):t("/booking-failer/"+e.message||0)}}catch(o){e.error(o.message)}},b=()=>{localStorage.removeItem("hotel"),localStorage.removeItem("bookingInfo"),t("/")};return(0,n.useEffect)((()=>{v&&(0,i.Ck)(g,v,p)}),[null===v||void 0===v?void 0:v.guest]),(0,r.jsx)("div",{children:g&&v?(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:(0,r.jsx)("h1",{className:"text-center my-5 font-bold text-xl md:text-3xl",children:"Plase Confirm Your Details Before Book"})}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row justify-around items-center gap-5",children:[(0,r.jsxs)("div",{className:"bg-gray-200 rounded-2xl p-8 lg:p-20 w-full md:w-1/2",children:[(0,r.jsxs)("div",{className:"mt-10",children:[(0,r.jsx)("h1",{className:"text-xl md:text-2xl font-bold",children:"Name of Hotel"}),(0,r.jsx)("p",{className:"my-3 text-gray-600 text-justify",children:null===g||void 0===g?void 0:g.title})]}),(0,r.jsxs)("div",{className:"mt-10",children:[(0,r.jsx)("h1",{className:"text-xl md:text-2xl font-bold",children:"Book By"}),(0,r.jsxs)("p",{className:"my-3 text-gray-600 text-justify",children:[null===s||void 0===s?void 0:s.name," ",(0,r.jsx)("br",{})," ",null===s||void 0===s?void 0:s.email]}),(0,r.jsxs)("div",{className:"md:block hidden",children:[(0,r.jsxs)("button",{disabled:x,onClick:k,className:"bg-primary text-white w-full rounded-md py-1 md:py-3 flex justify-center items-center gap-2 ".concat(x?"cursor-not-allowed":"cursor-pointer"),children:[" ",(0,r.jsx)(h.Z,{color:"white",size:"20px",loading:x})," ",(0,r.jsx)("div",{children:"Confirm Booking"})]}),(0,r.jsx)("p",{onClick:b,className:"text-blue-600 underline text-center my-2 cursor-pointer",children:"Cancel Booking"})]})]})]}),(0,r.jsxs)("div",{className:"w-full md:w-1/2",children:[(0,r.jsxs)("h1",{className:"text-lg md:text-xl mb-5 font-semibold",children:["\u20b9 ",null===v||void 0===v?void 0:v.totalAmount," Total Charge"]}),(0,r.jsxs)("form",{children:[(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row gap-1",children:[(0,r.jsx)(a.Z,{name:"CheckIn",id:"checkIn",text:"base -mt-7 -mb-2",type:"datetime-local",onClick:f,value:null===v||void 0===v?void 0:v.checkIn}),(0,r.jsx)(a.Z,{name:"CheckOut",id:"checkOut",text:"base -mt-7 -mb-2",type:"datetime-local",onClick:f,value:null===v||void 0===v?void 0:v.checkOut})]}),(0,r.jsx)("div",{className:"-mt-6 -mb-1",children:(0,r.jsx)(a.Z,{name:"Number Of Guest",text:"base",id:"guest",type:"number",onClick:f,value:null===v||void 0===v?void 0:v.guest})}),(0,r.jsx)("div",{className:"-mt-6 -mb-1",children:(0,r.jsx)(a.Z,{name:"Contact Number",text:"base",id:"contact",type:"tel",onClick:f,value:null===v||void 0===v?void 0:v.contact})}),(0,r.jsx)("div",{className:"-mt-6 -mb-1",children:(0,r.jsx)(c,{text:"base",handlePaymentInfo:f})}),(0,r.jsxs)("div",{className:"block md:hidden",children:[(0,r.jsxs)("button",{disabled:x,onClick:k,className:"bg-primary text-white w-full rounded-md py-1 md:py-3 flex justify-center items-center gap-2 ".concat(x?"cursor-not-allowed":"cursor-pointer"),children:["  ",(0,r.jsx)(h.Z,{color:"white",size:"20px",loading:x})," ",(0,r.jsx)("div",{children:"Confirm Booking"})," "]}),(0,r.jsx)("p",{onClick:b,className:"text-blue-600 underline text-center my-2 cursor-pointer",children:"Cancel Booking"})]})]})]})]})]}):(0,r.jsx)(o.Fg,{to:"/"})})}},2073:(e,t,s)=>{s.d(t,{Ck:()=>c,Fo:()=>m,Ic:()=>l,PZ:()=>a,UO:()=>o,rn:()=>d,u:()=>r,z4:()=>i});var n=s(184);const o=10,a={h1_size:"2xl:text-6xl lg:text-3xl md:text-2xl sm:text-xl l:text-xl s:text-xl",commonClass:"cursor-pointer relative items-center py-2",commonBTNClass:"bg-white px-4 text-sm font-medium text-gray-700 hover:bg-gray-50 inline-flex  rounded-md border border-gray-300",commonSreenBTNClass:"inline-flex px-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0",hoverClass:"hidden px-4 text-sm font-semibold text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 md:inline-flex",activeClass:"z-10 inline-flex bg-indigo-600 px-4 text-sm font-semibold text-white focus:z-20 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",flexDirectionClass:"lg:flex-row md:flex-row sm:flex-row l:flex-col s:flex-col xs:flex-col"},r=[{value:"Wifi",message:"",svg:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.288 15.038a5.25 5.25 0 0 1 7.424 0M5.106 11.856c3.807-3.808 9.98-3.808 13.788 0M1.924 8.674c5.565-5.565 14.587-5.565 20.152 0M12.53 18.22l-.53.53-.53-.53a.75.75 0 0 1 1.06 0Z"})})},{value:"Free Parking",message:"",svg:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"})})},{value:"TV",message:"",svg:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 20.25h12m-7.5-3v3m3-3v3m-10.125-3h17.25c.621 0 1.125-.504 1.125-1.125V4.875c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125Z"})})},{value:"Radio",message:"",svg:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 7.5 16.5-4.125M12 6.75c-2.708 0-5.363.224-7.948.655C2.999 7.58 2.25 8.507 2.25 9.574v9.176A2.25 2.25 0 0 0 4.5 21h15a2.25 2.25 0 0 0 2.25-2.25V9.574c0-1.067-.75-1.994-1.802-2.169A48.329 48.329 0 0 0 12 6.75Zm-1.683 6.443-.005.005-.006-.005.006-.005.005.005Zm-.005 2.127-.005-.006.005-.005.005.005-.005.005Zm-2.116-.006-.005.006-.006-.006.005-.005.006.005Zm-.005-2.116-.006-.005.006-.005.005.005-.005.005ZM9.255 10.5v.008h-.008V10.5h.008Zm3.249 1.88-.007.004-.003-.007.006-.003.004.006Zm-1.38 5.126-.003-.006.006-.004.004.007-.006.003Zm.007-6.501-.003.006-.007-.003.004-.007.006.004Zm1.37 5.129-.007-.004.004-.006.006.003-.004.007Zm.504-1.877h-.008v-.007h.008v.007ZM9.255 18v.008h-.008V18h.008Zm-3.246-1.87-.007.004L6 16.127l.006-.003.004.006Zm1.366-5.119-.004-.006.006-.004.004.007-.006.003ZM7.38 17.5l-.003.006-.007-.003.004-.007.006.004Zm-1.376-5.116L6 12.38l.003-.007.007.004-.004.007Zm-.5 1.873h-.008v-.007h.008v.007ZM17.25 12.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5Zm0 4.5a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5Z"})})},{value:"Pets",message:"",svg:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 .75.75V21m-4.5 0H2.36m11.14 0H18m0 0h3.64m-1.39 0V9.349M3.75 21V9.349m0 0a3.001 3.001 0 0 0 3.75-.615A2.993 2.993 0 0 0 9.75 9.75c.896 0 1.7-.393 2.25-1.016a2.993 2.993 0 0 0 2.25 1.016c.896 0 1.7-.393 2.25-1.015a3.001 3.001 0 0 0 3.75.614m-16.5 0a3.004 3.004 0 0 1-.621-4.72l1.189-1.19A1.5 1.5 0 0 1 5.378 3h13.243a1.5 1.5 0 0 1 1.06.44l1.19 1.189a3 3 0 0 1-.621 4.72M6.75 18h3.75a.75.75 0 0 0 .75-.75V13.5a.75.75 0 0 0-.75-.75H6.75a.75.75 0 0 0-.75.75v3.75c0 .414.336.75.75.75Z"})})},{value:"Private Entrance",message:"",svg:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 9V5.25A2.25 2.25 0 0 1 10.5 3h6a2.25 2.25 0 0 1 2.25 2.25v13.5A2.25 2.25 0 0 1 16.5 21h-6a2.25 2.25 0 0 1-2.25-2.25V15m-3 0-3-3m0 0 3-3m-3 3H15"})})}],l=(e,t,s)=>""===e.checkIn?{success:!1,message:"Enter valid checkIn time"}:""===e.checkOut?{success:!1,message:"Enter valid checkOut time"}:""===e.city?{success:!1,message:"Enter valid city"}:""===e.country?{success:!1,message:"Enter valid country"}:""===e.discription?{success:!1,message:"Enter valid discription"}:""===e.extraInfo?{success:!1,message:"Enter valid extraInfo"}:""===e.maxGuests?{success:!1,message:"Enter valid maxGuests"}:""===e.pin?{success:!1,message:"Enter pin"}:""===e.price?{success:!1,message:"Enter valid price"}:""===e.state?{success:!1,message:"Enter valid state"}:""===e.street?{success:!1,message:"Enter valid street"}:""===e.title?{success:!1,message:"Enter valid title"}:0===t.length?{success:!1,message:"Select aleast 1 perk"}:s.length<5?{success:!1,message:"Select aleast 5 images"}:{success:!0},i=[{id:1,name:"Cash"},{id:1,name:"Card"}],c=(e,t,s)=>{const n=e.price*t.guest*.18;if(t.checkIn&&t.checkOut){const o=Math.abs(new Date(t.checkIn)-new Date(t.checkOut)),a=Math.ceil(o/864e5),r=(n+e.price*t.guest)*a;s({...t,totalAmount:r,days:a})}else{const o=n+e.price*t.guest;s({...t,totalAmount:o})}},d=(e,t)=>{const s=Math.abs(new Date(e)-new Date(t));return Math.ceil(s/864e5)},m=[{name:"Best Rating",sort:"rating",order:"desc",current:!1},{name:"Price: Low to High",sort:"price",order:"asc",current:!1},{name:"Price: High to Low",sort:"price",order:"desc",current:!1}]},6564:(e,t,s)=>{s.d(t,{Z:()=>c});var n=s(2791),o={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function a(e){var t=function(e){if("number"===typeof e)return{value:e,unit:"px"};var t,s=(e.match(/^[0-9.]*/)||"").toString();t=s.includes(".")?parseFloat(s):parseInt(s,10);var n=(e.match(/[^0-9]*$/)||"").toString();return o[n]?{value:t,unit:n}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}(e);return"".concat(t.value).concat(t.unit)}var r=function(){return r=Object.assign||function(e){for(var t,s=1,n=arguments.length;s<n;s++)for(var o in t=arguments[s])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},l=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s},i=function(e,t,s){var n="react-spinners-".concat(e,"-").concat(s);if("undefined"==typeof window||!window.document)return n;var o=document.createElement("style");document.head.appendChild(o);var a=o.sheet,r="\n    @keyframes ".concat(n," {\n      ").concat(t,"\n    }\n  ");return a&&a.insertRule(r,0),n}("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");const c=function(e){var t=e.loading,s=void 0===t||t,o=e.color,c=void 0===o?"#000000":o,d=e.speedMultiplier,m=void 0===d?1:d,u=e.cssOverride,h=void 0===u?{}:u,x=e.size,g=void 0===x?35:x,v=l(e,["loading","color","speedMultiplier","cssOverride","size"]),p=r({background:"transparent !important",width:a(g),height:a(g),borderRadius:"100%",border:"2px solid",borderTopColor:c,borderBottomColor:"transparent",borderLeftColor:c,borderRightColor:c,display:"inline-block",animation:"".concat(i," ").concat(.75/m,"s 0s infinite linear"),animationFillMode:"both"},h);return s?n.createElement("span",r({style:p},v)):null}}}]);
//# sourceMappingURL=548.0edeb670.chunk.js.map